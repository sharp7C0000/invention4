<% include header %>

<style>

.global-validator {
  display: inline-block;
  background: #EEE;
  box-sizing: border-box;
  margin-bottom: 0px;
  margin-top: 20px;
  padding: 10px;
  border-radius: 2px;
  width:100%;
  color: red;
  font-size:13px;
}
.global-validator core-icon {
  margin-right:5px;
  font-size:12px;
  height:18px;
  width:18px;
}
</style>


<core-header-panel flex mode="seamed" ng-controller="Auth">
  <core-toolbar id="mainheader">
    <paper-icon-button id="navicon" 
      class="primary" icon="arrow-back">
    </paper-icon-button>
    <span flex>Invention4</span>
  </core-toolbar>

  <form name="loginForm" 
    style="margin-top:20px;width:350px;margin-left:auto;margin-right:auto;">


    <paper-input-decorator 
      label="username" 
      floatingLabel 
      error="{{errorMessage(loginForm.username.$error)}}" 
      isInvalid="{{!loginForm.username.$valid && loginForm.username.$dirty}}"
    >
      <input name="username" is="paper-input"
        required 
        ng-model="formData.username" 
        ng-maxlength="10" 
        ng-minlength="4"
        ng-keydown="hideGlobalValidation()"
      >
    </paper-input-decorator>

    <paper-input-decorator 
      label="password" 
      floatingLabel
      error="{{errorMessage(loginForm.password.$error)}}"
      isInvalid="{{!loginForm.password.$valid && loginForm.password.$dirty}}"
    >
      <input name="password" is="paper-input" type="password"
        required
        ng-model="formData.password"
        ng-maxlength="10"
        ng-minlength="4"
        ng-keydown="hideGlobalValidation()"
      >
    </paper-input-decorator>

    
    <paper-shadow 
      class="global-validator" 
      z="1"
      ng-cloak
      ng-show="formData.valid.global"
    >
      <core-icon icon="report-problem"></core-icon>
      {{formData.error.global}}
    </paper-shadow>

    <paper-button
      ng-click="submit('<%-submitUrl%>')"
      style="width:100%;margin:0;margin-top:20px;" 
      raised class="primary">
      Login
    </paper-button>

    <paper-button 
      style="margin-top:20px;font-size:11px;float:right;" 
      class="primary">
      Forgot password?
    </paper-button>
  </form>
</core-header-panel>

<script src="components/requirejs/require.js" data-main="js/auth.js"></script>

<% include footer %>